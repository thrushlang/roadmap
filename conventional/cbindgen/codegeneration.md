<p align="center">
  <img src= "https://github.com/thrushlang/thrushc/blob/master/assets/thrushlang-v1.6.png" alt= "logo" style= "width: 2hv; height: 2hv;"> </img>
</p>

# Thrush Programming Language 

## Roadmap > Conventional Programming > Cbindgen > Code Generation

This article will briefly discuss how the compiler integrates the preprocessed C headers into code that Thrush's selected code generator can compile.

### Phases

#### Clang Preprocessing

At this point, the Clang frontend already offers the AST, preprocessed with C-type headers. Therefore, native C compile-time macro and type resolution will have already been done.

The Thrush compiler simply takes the constant types and values.

#### AST Generation

At this stage, the Thrush compiler, using its frontend, translates the representation provided by Clang into the abstract representation, valid for Thrush's primordial types. This includes constant types, structures, external methods, and more.

#### Code Generation

At this stage, the Thrush compiler prioritizes C header type imports over even compile-time execution in order to resolve types before any actual code execution in the compiler. At this stage, the intermediate representation of these preprocessed types is generated by the Clang frontend and the Thrush frontend.

#### Code Integration

At this stage, the Thrush compiler takes the intermediate code generated by the AOT compiler, runs it through the preprocessed types of the C headers, and exports them to the compile-time code generator. These types are then integrated into Thrush's JIT compiler to expose the use of the values ​​and types for execution at compile time.
